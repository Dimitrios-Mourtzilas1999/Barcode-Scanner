{% extends "base.html" %}

{% block css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/bootstrap.min.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/edit_category.css') }}">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
{% endblock %}

{% block content %}
{% include 'menu.html' %}

<div class="main-content">
  <div class="edit-category-container">
    
    <!-- Header -->
    <div class="edit-header">
      <h2><i class="fa-solid fa-pen-to-square"></i> Ενημέρωση Κατηγορίας {{ category.cat_type }}</h2>
    </div>

    <!-- Flash Messages -->
    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        <div class="flashes">
          {% for category, message in messages %}
            <div class="alert alert-{{ category }} alert-dismissible fade show" role="alert">
              {{ message }}
              <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
            </div>
          {% endfor %}
        </div>
      {% endif %}
    {% endwith %}

    <!-- Edit Category Form -->
    <form method="POST" action="{{ url_for('category.edit_category', id=category.id) }}" class="edit-category-form">
      {{ form.hidden_tag() }}

      <div class="form-group">
        <label for="cat_type"><i class="fa-solid fa-tag"></i> Περιγραφή Κατηγορίας</label>
        {{ form.category_type(class="form-control", id="cat_type", placeholder="Enter category name") }}
      </div>

      <div class="form-actions">
        <button type="submit" class="btn btn-primary"><i class="fa fa-save"></i> Ενημέρωση</button>
        <a href="{{ url_for('category.categories') }}" class="btn btn-secondary"><i class="fa fa-arrow-left"></i> Πίσω</a>
      </div>
    </form>
  </div>
</div>
{% endblock %}
