
{%extends 'base.html' %}

{%block css %}
<link rel="stylesheet" href="{{url_for('product.static',filename='css/product_cards.css')}}">
{%endblock%}

{%block content %}

{% if products %}
<div class="row g-4">
  {% for product in products %}
  <div class="col-12 col-sm-6 col-md-4 col-lg-3">
    <div class="card h-100 shadow-sm">
      <div class="card-body d-flex flex-column">
        <h5 class="card-title">{{ product.desc }}</h5>
        <p class="card-text mb-1"><strong>Barcode:</strong> {{ product.barcode }}</p>
        <p class="card-text mb-1">
          <strong>Κατηγορία:</strong> 
          {{ product.category.cat_type if product.category else 'Χωρίς Κατηγορία' }}
        </p>
        <p class="card-text mb-2">
          <strong>Stock:</strong> {{ product.stock }} | 
          <strong>Price:</strong> {{ "%.2f"|format(product.price) }} €
        </p>
        <div class="mt-auto d-flex justify-content-between">
          <a href="{{ url_for('product.edit_product', barcode=product.barcode) }}" 
             class="btn btn-sm btn-outline-primary">
            <i class="fa-solid fa-pen"></i> Επεξεργασία
          </a>
          {% if product.category %}
          <a href="{{ url_for('category.category_info', cat_id=product.cat_id) }}" 
             class="btn btn-sm btn-outline-secondary">
            <i class="fa-solid fa-eye"></i> Κατηγορία
          </a>
          {% endif %}
        </div>
      </div>
    </div>
  </div>
  {% endfor %}
</div>
{% include 'pagination.html' %}

{% else %}
<div class="text-center mt-5">
  <h5 class="text-muted">Δεν υπάρχουν προϊόντα.</h5>
</div>
{% endif %}

{% endblock %}

